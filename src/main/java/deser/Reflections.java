package deser;

import java.lang.reflect.AccessibleObject;
import java.lang.reflect.Field;
import com.nqzero.permit.Permit;



public class Reflections {
    public static void setFieldValue(Object obj , String fildName , Object value) throws Exception {
        Field fild = getField(obj.getClass(),fildName);
        fild.set(obj,value);
    }
    public static Object getFieldValue(final Object obj, final String fieldName) throws Exception {
        final Field field = getField(obj.getClass(), fieldName);
        return field.get(obj);
    }

    public static Field getField(Class<?> clazz, String fileName){
        try {
            Field field = clazz.getDeclaredField(fileName);
            setAccessible(field);
            return field;
        } catch (NoSuchFieldException e) {
            throw new RuntimeException(e);
        }
    }

    public static void setAccessible(AccessibleObject member){
        Permit.setAccessible(member);
    }
}
